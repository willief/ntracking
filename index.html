<!DOCTYPE html>

<html lang="en">

<head>
  <meta content="Safe Network Node Stats." property="og:description" />
  <meta content="https://github.com/javages/javages.github.io/blob/main/bubbles.png" property="og:image" />
  <meta charset="utf-8" />
  <meta content="IE=edge" http-equiv="X-UA-Compatible" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Safe Network Test Network Nodes</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
  <!-- SVG favicon -->
  <link href="#chartLogo" rel="icon" type="image/svg+xml" />
  
  <style>
    * {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 30px;
      background: black;
      color: rgba(244, 244, 244, 0.8);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
    }

    .full-logo {
      display: flex;
      align-items: center;
      margin-left: 20px;
    }

    .logo-text {
      color: rgba(255, 102, 0, 0.8);
      font-size: 24px;
      z-index: 0;
      position: relative;
    }

    a {
      text-decoration: none;
      color: rgba(255, 102, 0, 0.8);
      padding: 12px 20px;
      width: 200px;
      height: 22px;
      line-height: 25px;
      text-align: center;
      border: 2px solid rgba(255, 102, 0, 0.8);
      border-radius: 5px;
      transition: background-color 0.3s, color 0.3s;
      display: inline-block;
      margin-bottom: 10px;
      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
    }

    a:hover {
      background-color: rgba(255, 102, 0, 0.8);
      color: #222;
      text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6);
    }

    hr {
      border: 0;
      border-top: 1px solid #666;
      margin: 40px 0;
    }

    .logo {
      display: inline-block;
      margin-right: 10px;
      vertical-align: middle;
      z-index: 1;
      margin-right: 10px;
    }

    #bar1,
    #bar2,
    #bar3 {
      transform-origin: bottom;
      transition: transform 0.3s ease-in-out;
    }

    .logo:hover #bar1 {
      transform: scaleY(1.2);
    }

    .logo:hover #bar2 {
      transform: scaleY(1.5);
    }

    .logo:hover #bar3 {
      transform: scaleY(0.8);
    }

    .iframe-container {
      position: relative;
      margin-bottom: 0px;
    }

    .iframe-container button {
      position: absolute;
      top: 15px;
      left: 15px;
      z-index: 10;
    }

    .hide-individual-buttons button[onclick^="toggleFullscreen"] {
      display: none;
    }

    .fullscreen-btn-style {
      background-color: rgba(255, 255, 255, 0.1);
      font-size: 10px;
      color: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 1px 1px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .fullscreen-btn-style:hover {
      background-color: rgba(255, 255, 255, 0.2);
      color: rgba(255, 255, 255, 0.8);
      box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
    }

    .iframe-btn-position {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
      margin-right: 10px;
      float: left;
      box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    }

    #topContainer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        padding: 1px;
    }

    #logoContainer {
        display: flex;
        align-items: center;
    }

    #dataWindow {
    width: 35%;
    max-height: 150px;
    overflow-y: scroll;
    border: 1px solid rgba(252, 252, 252, 0);
    background-color: transparent;
    padding: 15px;
    border-radius: 5px;
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    margin-right: 5%;
    text-align: left;
    position: relative;
}

#dataWindow::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 10px;
    background: linear-gradient(rgba(252, 252, 252, 0), #0a0a0a);
    pointer-events: none;
}

#dataWindow::-webkit-scrollbar {
    width: 0;
}

#dataWindow pre {
    white-space: pre-wrap;
    font-family: 'Courier New', Courier, monospace;
    text-align: left; 
}


</style>
</head>

<body>
  
<div id="topContainer">
    <div id="logoContainer">
        <div class="full-logo">

    <svg class="logo" height="50" id="chartLogo" width="50" xmlns="http://www.w3.org/2000/svg">

      <circle cx="25" cy="25" fill="#2E2E2E" r="23" stroke="#FF6600" stroke-width="1.5"></circle>

      <rect fill="#FF6600" height="15" id="bar1" width="5" x="10" y="27.5"></rect>
      <rect fill="#FF6600" height="25" id="bar2" width="5" x="20" y="20"></rect>
      <rect fill="#FF6600" height="10" id="bar3" width="5" x="30" y="32.5"></rect>
    </svg>

    <span class="logo-text">Safe Network Nodes<br />Stats &amp; Tracking</span>
  </div>
    </div>
    <div id="dataWindow">
        <pre>{sorted_results_content}</pre>
    </div>
</div>

  <br />
  <button class="fullscreen-btn-style" onclick="toggleAllIframesFullscreen()">Fullscreen All</button>
  <div id="iframesContainer">
    <div class="iframe-container">
      <button class="iframe-btn-position fullscreen-btn-style"
        onclick="toggleFullscreen(this.nextElementSibling)">Full</button>

      <iframe frameborder="0" height="400" src="bubble_rewards.html" width="100%"></iframe>
    </div>

    <div class="iframe-container">
      <button class="iframe-btn-position fullscreen-btn-style"
        onclick="toggleFullscreen(this.nextElementSibling)">Full</button>

      <iframe frameborder="0" height="400" src="rewards_balance_plot.html" width="100%"></iframe>
    </div>

    <div class="iframe-container">
      <button class="iframe-btn-position fullscreen-btn-style"
        onclick="toggleFullscreen(this.nextElementSibling)">Full</button>

      <iframe frameborder="0" height="400" src="memory_usage_plot.html" width="100%"></iframe>

      <div class="iframe-container">
        <button class="iframe-btn-position fullscreen-btn-style"
          onclick="toggleFullscreen(this.nextElementSibling)">Full</button>
  
        <iframe frameborder="0" height="400" src="durations.html" width="100%"></iframe>
    </div>
  </div>
  <br />
  <br />
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      setInterval(function () {
        var iframes = document.querySelectorAll("iframe");
        iframes.forEach(function (iframe) {
          iframe.src = iframe.src;
        });
      }, 600000); // 600,000 milliseconds = 10 minutes
    });
  </script>
  <script>
    function toggleFullscreen(iframe) {
      if (!document.fullscreenElement) {
        iframe.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    }

function toggleAllIframesFullscreen() {
  var containers = document.querySelectorAll('.iframe-container');

  if (!document.fullscreenElement) {
    containers.forEach(container => {
      var iframe = container.querySelector("iframe");
      iframe.style.height = "25vh";
      iframe.style.width = "100vw";
      container.classList.add('hide-individual-buttons');
    });
    document.getElementById("iframesContainer").requestFullscreen();
  } else {
    containers.forEach(container => {
      var iframe = container.querySelector("iframe");
      iframe.style.height = "400px";
      iframe.style.width = "100%";
      container.classList.remove('hide-individual-buttons');
    });
    document.exitFullscreen();
  }
}


    document.addEventListener("fullscreenchange", function () {
      var containers = document.querySelectorAll('.iframe-container');

      if (!document.fullscreenElement) {
        containers.forEach(function (container) {
          var iframes = container.querySelectorAll("iframe");
          iframes.forEach(function (iframe) {
            iframe.style.width = "100%";
            iframe.style.height = "400px";
          });

          container.classList.remove('hide-individual-buttons');
        });
      }
    });


  </script>

<script>
window.addEventListener('load', function() {
    fetch('https://raw.githubusercontent.com/javages/javages.github.io/main/node_info.txt')
        .then(response => response.text())
        .then(data => {
            document.getElementById('dataWindow').innerHTML = '<pre>' + data + '</pre>';
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
});

</script>
</body>

</html>
